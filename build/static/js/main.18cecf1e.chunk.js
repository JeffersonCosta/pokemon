(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{142:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=a.n(r),i=a(65),o=a(15),l=a(193),j=a(189),u=a(202),b=a(191),d=a(194),m=a(178),h=a(183),p=a(198),O=a(186),x=a(81),g=a(179),f=a(181),k=a(182),v=a(196),y=a(200),N=a(184),S=a(187),w=a(180),z=a(197),C=a(48),A=a.n(C),E=a(176),P=a(174),F=a(199),R=Object(P.a)((function(e){return Object(F.a)({progressBar:{flex:1,height:10,borderRadius:2},statName:{flex:"50% 0 0",paddingRight:10,margin:0,color:"#777",textAlign:"right"},baseStatName:{color:"#115293",width:30,display:"inline-block"},boxProgress:{margin:"5px 0"}})})),D=a(4);var W=function(e){var t=e.pokemonDetails,a=R();return Object(D.jsx)(v.a,{marginY:2,children:Object.keys(t).length&&t.stats.map((function(e,t){return Object(D.jsxs)(v.a,{display:"flex",alignItems:"center",className:a.boxProgress,children:[Object(D.jsxs)("p",{className:a.statName,children:[e.stat.name,Object(D.jsx)("strong",{className:a.baseStatName,children:e.base_stat})]}),Object(D.jsx)(E.a,{className:a.progressBar,variant:"determinate",value:e.base_stat})]},t)}))})},B=a(54),I=Object(P.a)((function(e){return Object(F.a)({paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,cursor:"pointer"},media:{padding:0,height:200,backgroundSize:"auto 80%",backgroundColor:"#F2F2F2"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:B.a[500]},chip:{margin:2},subName:{color:"#999"},pokemonName:{fontFamily:"Righteous, Raleway, Arial"},cardExpanded:{border:"5px solid #efefef"}})})),T=function(e){var t=e.pokemon,a=I(),r=c.a.useState(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],j=Object(n.useState)(!1),u=Object(o.a)(j,2),b=u[0],d=u[1],x=Object(n.useState)({}),C=Object(o.a)(x,2),E=C[0],P=C[1],F=Object(n.useState)(!1),R=Object(o.a)(F,2),B=R[0],T=R[1],q=Object(n.useState)("Erro ao realizar busca..."),L=Object(o.a)(q,2),_=L[0],M=L[1];return Object(n.useEffect)((function(){d(!0),t.url&&A.a.get(t.url).then((function(e){P(e.data),d(!1)})).catch((function(e){console.log(e),d(!1),M("Erro ao buscar detalhes do pok\xe9mon, por favor, tente novamente..."),T(!0)}))}),[t.url]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(D.jsxs)(g.a,{onClick:function(){l(!i)},className:"".concat(!0===i?a.cardExpanded:""),children:[b?Object(D.jsx)(w.a,{variant:"rect",width:"100%",height:200}):Object(D.jsx)(f.a,{className:a.media,image:Object.keys(E).length?E.sprites.other.dream_world.front_default:"https://img1.gratispng.com/20171220/kqw/pokeball-png-5a3a4a7e247ce7.9167778215137695981495.jpg",title:"Pokem\xf3n ".concat(t.name)}),Object(D.jsxs)(k.a,{children:[Object(D.jsxs)(h.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",className:a.pokemonName,children:[t.name," ",Object(D.jsxs)("span",{className:a.subName,children:["N\xba",E.id]})]}),Object(D.jsx)(v.a,{marginY:1,display:"flex",justifyContent:"center",flexWrap:"wrap",children:b?Object(D.jsx)(w.a,{variant:"text"}):Object.keys(E).length&&E.abilities.map((function(e,t){return Object(D.jsx)(y.a,{className:a.chip,color:"secondary",size:"medium",label:e.ability.name},t)}))})]}),Object(D.jsx)(N.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(D.jsx)(k.a,{children:Object(D.jsx)(W,{pokemonDetails:E})})})]})}),Object(D.jsx)(p.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:B,autoHideDuration:6e3,action:Object(D.jsx)(c.a.Fragment,{children:Object(D.jsx)(O.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return T(!1)},children:Object(D.jsx)(S.a,{fontSize:"small"})})}),children:Object(D.jsx)(z.a,{onClose:function(){return T(!1)},severity:"error",children:_})})]})},q=a(62),L=a.n(q),_=a(85),M=a(188),H=a(195),J=a(201),Y=a(190),G=a(192),U=a(90),K=A.a.create({baseURL:"https://pokeapi.co/api/v2",headers:{"Content-Type":"Application/json"}}),Q=Object(P.a)((function(e){return Object(F.a)({input:{margin:10,maxWidth:250,width:"100%"},selectArea:{maxWidth:250,width:"100%",margin:10},btnSearch:{padding:8,minWidth:30}})}));var V=function(e){var t=e.loading,a=e.typeSearch,n=e.setTypeSearch,c=e.search,r=e.setSearch,s=e.area,i=e.setArea,o=e.handleSearch,l=Q();function u(){return(u=Object(_.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get("location-area?offset=".concat(t.length,"&limit=20"));case 2:return a=e.sent,n=a.data.results.map((function(e){return{value:e.id,label:e.name}})),e.abrupt("return",{options:n,hasMore:a.data.next});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(D.jsx)(M.a,{position:"fixed",color:"inherit",children:Object(D.jsx)(j.a,{children:Object(D.jsx)(m.a,{container:!0,spacing:3,children:Object(D.jsx)(m.a,{item:!0,xs:12,children:Object(D.jsxs)(v.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(D.jsxs)(H.a,{className:l.input,size:"small",select:!0,label:"Pesquisar por",value:a,onChange:function(e){return n(e.target.value)},variant:"outlined",children:[Object(D.jsx)(J.a,{value:"default",children:"Todos"},"default"),Object(D.jsx)(J.a,{value:"by-area",children:"Localiza\xe7\xe3o"},"by-area"),Object(D.jsx)(J.a,{value:"by-name",children:"Nome"},"by-name")]}),"by-area"===a?Object(D.jsx)(U.a,{className:l.selectArea,value:s,loadOptions:function(e){return u.apply(this,arguments)},onChange:function(e){i(e)},placeholder:"Selecione uma \xe1rea"}):Object(D.jsx)(H.a,{className:l.input,size:"small",placeholder:"Pesquisar...",value:c,onChange:function(e){r(e.target.value)},disabled:"default"===a,label:"Digite aqui...",type:"search",variant:"standard"}),Object(D.jsx)(v.a,{display:"flex",alignItems:"center",children:Object(D.jsx)(Y.a,{size:"large",variant:"contained",onClick:o,color:"primary",className:l.btnSearch,disabled:"default"===a||"by-area"===a&&null===s,children:!0===t?Object(D.jsx)(b.a,{color:"inherit",size:24}):Object(D.jsx)(G.a,{})})})]})})})})})},X=Object(P.a)((function(e){return Object(F.a)({root:{flexGrow:1,fontFamily:"Righteous, Raleway, Arial"},container:{paddingTop:20},selectArea:{maxWidth:250,width:"100%",margin:10},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},imgPikachu:{maxWidth:300,display:"block",margin:"50px auto"},imgPikachuDescription:{fontFamily:"Righteous, Raleway, Arial",marginTop:20}})})),Z=function(){var e=X(),t=Object(n.useState)({count:0,next:"pokemon?limit=10&offset=0",previous:"",results:[]}),a=Object(o.a)(t,2),r=a[0],s=a[1],g=Object(n.useState)({}),f=Object(o.a)(g,2),k=f[0],v=f[1],y=Object(n.useState)([]),N=Object(o.a)(y,2),w=N[0],C=N[1],A=Object(n.useState)("default"),E=Object(o.a)(A,2),P=E[0],F=E[1],R=Object(n.useState)(""),W=Object(o.a)(R,2),B=W[0],I=W[1],q=Object(n.useState)(null),L=Object(o.a)(q,2),_=L[0],M=L[1],H=Object(n.useState)(!1),J=Object(o.a)(H,2),Y=J[0],G=J[1],U=Object(n.useState)(!1),Q=Object(o.a)(U,2),Z=Q[0],$=Q[1],ee=Object(n.useState)("Erro ao realizar busca..."),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=function(){G(!0),K.get(r.next).then((function(e){s((function(t){return{results:[].concat(Object(i.a)(t.results),Object(i.a)(e.data.results)),next:e.data.next,count:e.data.count,previous:e.data.previous}})),G(!1)})).catch((function(e){G(!1),ne("Erro ao realizar busca, por favor, tente novamente..."),$(!0),console.log(e)}))},re=function(){"by-area"===P&&Object.keys(_).length>0?(G(!0),_.hasOwnProperty("label")&&K.get("location-area/".concat(_.label)).then((function(e){var t=e.data.pokemon_encounters.map((function(e){return e.pokemon}));C(t),G(!1)})).catch((function(e){C([]),G(!1),ne("Erro ao realizar busca, por favor, tente novamente..."),$(!0),console.log(e)}))):"by-name"===P&&B.length>0?(G(!0),K.get("pokemon/".concat(B.toLowerCase())).then((function(e){v({name:e.data.name,url:"https://pokeapi.co/api/v2/pokemon/".concat(e.data.id,"/")}),G(!1)})).catch((function(e){v({}),G(!1),404!==e.response.status&&(ne("Erro ao realizar busca, por favor, tente novamente..."),$(!0))}))):"default"===P&&ce()};return Object(n.useEffect)((function(){re()}),[]),Object(n.useEffect)((function(){"by-name"!==P?(I(""),v({})):(M({}),C([]))}),[P]),Object(D.jsxs)(c.a.Fragment,{children:[Object(D.jsx)(l.a,{}),Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)(V,{loading:Y,typeSearch:P,setTypeSearch:F,search:B,setSearch:I,area:_,setArea:M,handleSearch:re}),Object(D.jsx)(j.a,{}),Object(D.jsx)(u.a,{className:e.backdrop,open:Y,children:Object(D.jsx)(b.a,{color:"inherit"})}),Object(D.jsxs)(d.a,{maxWidth:"lg",className:e.container,children:["default"===P&&Object(D.jsx)(x.a,{style:{overflow:"inherit"},dataLength:r.results.length,next:ce,hasMore:!!r.next.length,loader:Object(D.jsx)("div",{style:{textAlign:"center"},children:Object(D.jsx)(b.a,{})}),endMessage:Object(D.jsx)("p",{style:{textAlign:"center"},children:Object(D.jsx)("b",{children:"N\xe3o h\xe1 mais pok\xe9mons a serem exibidos"})}),children:Object(D.jsx)(m.a,{container:!0,spacing:3,children:r.results.map((function(e,t){return Object(D.jsx)(T,{pokemon:e},t)}))})}),Object(D.jsxs)(m.a,{container:!0,spacing:3,children:["by-name"===P&&(Object.keys(k).length?Object(D.jsx)(T,{pokemon:k}):Object(D.jsxs)(m.a,{item:!0,sm:12,children:[Object(D.jsx)("img",{className:e.imgPikachu,src:"/pokemon/img/sad-pikachu.png",alt:"Nenhum pok\xe9mon encontrado"}),Object(D.jsx)(h.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",className:e.imgPikachuDescription,children:"Nenhum pokemon encontrado"})]})),"by-area"===P&&(w.length?w.map((function(e,t){return Object(D.jsx)(T,{pokemon:e},t)})):Object(D.jsxs)(m.a,{item:!0,sm:12,children:[Object(D.jsx)("img",{className:e.imgPikachu,src:"/pokemon/img/happy-pikachu.png",alt:"Nenhuma \xe1rea selecionada"}),Object(D.jsx)(h.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",className:e.imgPikachuDescription,children:"Selecione uma \xe1rea e clique na lupa"})]}))]})]})]}),Object(D.jsx)(p.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Z,autoHideDuration:6e3,action:Object(D.jsx)(c.a.Fragment,{children:Object(D.jsx)(O.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return $(!1)},children:Object(D.jsx)(S.a,{fontSize:"small"})})}),children:Object(D.jsx)(z.a,{onClose:function(){return $(!1)},severity:"error",children:ae})})]})};s.a.render(Object(D.jsx)(c.a.Fragment,{children:Object(D.jsx)(Z,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.18cecf1e.chunk.js.map